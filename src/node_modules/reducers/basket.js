import * as R from 'ramda'

import {
  ADD_PHONE_TO_BASKET,
  REMUVE_FONE_FROM_BASKET,
  CLEAN_BASKET
} from 'actionTypes'

const initialState = []   //здесь нужен не объект, а массив!!!!

export default (state = initialState, { type, payload }) => {
  
  switch (type) {

    case ADD_PHONE_TO_BASKET:
      //добавляем в state только id
      return R.append(payload, state)

    case REMUVE_FONE_FROM_BASKET:
      //удаляем все id которые могут повторятся 
      return R.without(R.of(payload), state) //[payload] = R.of(payload) - превращает в массив //принимает  id и istate ([2], state)  все элементы с id=2 будут удалены [1, 1, 2, 2]  - останется [1, 1]
    
    case CLEAN_BASKET:
      // return []    //возвращаем пустой массив
      return initialState //код более чище
    
    default:
      return state
  }
}